<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ü•ï DeFi Carrot Quiz</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <style>
    body {
      font-family: "Poppins", sans-serif;
      background: radial-gradient(circle at top, #1c1c1c 0%, #0f0f0f 90%);
      color: #fff;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      padding: 20px;
    }

    h1 {
      color: #ffa447;
      text-align: center;
      margin-bottom: 20px;
      text-shadow: 0 0 15px #ffa44744;
    }

    .quiz-container {
      background: #151515;
      border: 2px solid #ffa44733;
      box-shadow: 0 0 30px #ffa44722;
      border-radius: 16px;
      max-width: 820px;
      width: 100%;
      padding: 25px 30px;
    }

    .question {
      font-weight: 600;
      margin: 15px 0 10px;
      color: #fff;
    }

    .options {
      list-style: none;
      padding: 0;
    }

    .options li {
      margin: 8px 0;
      padding: 12px;
      border: 1px solid #2c2c2c;
      border-radius: 10px;
      background: #202020;
      cursor: pointer;
      transition: all 0.25s;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .options li span.option-letter {
      background: #ffa447;
      color: #000;
      font-weight: 700;
      width: 25px;
      height: 25px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
    }

    .options li:hover {
      background: #2a2a2a;
    }

    .options li.correct {
      background: #173b20;
      border-color: #00ff99;
      color: #00ff99;
    }

    .options li.wrong {
      background: #3b1b1b;
      border-color: #ff5555;
      color: #ff5555;
    }

    button {
      background: #ffa447;
      border: none;
      color: #000;
      font-weight: 700;
      padding: 12px 28px;
      border-radius: 10px;
      cursor: pointer;
      margin-top: 25px;
      font-size: 1rem;
      transition: 0.3s;
    }

    button:hover {
      background: #ffb967;
    }

    .score-card {
      text-align: center;
      margin-top: 20px;
      background: #1e1e1e;
      padding: 20px;
      border-radius: 12px;
      border: 1px solid #ffa44744;
      box-shadow: 0 0 15px #ffa44722;
    }

    .score {
      font-size: 1.3rem;
      font-weight: bold;
      color: #ffa447;
    }

    .share-buttons {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin-top: 15px;
    }

    .share-buttons button {
      background: #111;
      border: 1px solid #ffa44766;
      color: #ffa447;
      font-weight: 600;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      transition: 0.3s;
    }

    .share-buttons button:hover {
      background: #ffa447;
      color: #111;
    }

    footer {
      margin-top: 25px;
      text-align: center;
      font-size: 0.9rem;
      color: #888;
    }
  </style>
</head>
<body>
  <h1>ü•ï DeFi Carrot Quiz</h1>

  <div class="quiz-container" id="quiz"></div>

  <button id="submit">Submit ü•ï</button>

  <div id="resultCard" class="score-card" style="display: none;">
    <div class="score" id="score"></div>
    <div class="share-buttons" id="shareButtons">
      <button id="shareX">Share on X üïäÔ∏è</button>
      <button id="downloadImg">üì∏ Download Score Image</button>
      <button id="retry">Try Again üîÅ</button>
    </div>
  </div>

  <footer>Powered by ü•ï DeFi Carrot Community</footer>

  <script>
    const quizData = [
      { question: "What is Carrot‚Äôs main goal?", options: ["To be a speculative token", "To give leverage on volatile assets", "To maximize yield on stablecoins with minimal effort", "To enable stablecoin bridging"], answer: 2 },
      { question: "How does Carrot earn yield?", options: ["Farming on DEXs", "Routing stablecoins into best lending protocols", "Selling new CRT tokens", "Trading derivatives"], answer: 1 },
      { question: "Which is a key risk Carrot mentions?", options: ["CRT delisting", "Stablecoins losing their peg", "Solana shutting down", "No liquidity on Solana"], answer: 1 },
      { question: "How is yield given to users?", options: ["Periodic stablecoin payouts", "Increasing wallet holdings", "Via separate rewards token", "Yield added into CRT‚Äôs value"], answer: 3 },
      { question: "Which stablecoins does Carrot use?", options: ["DAI, USDC, USDT", "USDC, USDT, PYUSD", "BUSD, USDC, TUSD", "USDT, UST, FRAX"], answer: 1 },
      { question: "What is Carrot‚Äôs risk approach?", options: ["All-in highest APY", "Diversify and rebalance protocols", "Use leverage to boost yield", "Keep idle until APY high"], answer: 1 },
      { question: "Which fee Carrot doesn‚Äôt charge?", options: ["Redemption fee (0.1%)", "Performance fee", "Management fee on TVL", "Interchange fee"], answer: 3 },
      { question: "Which Solana protocols Carrot links with?", options: ["Aave, Compound", "Maker, Curve", "Kamino, MarginFi", "Yearn, Balancer"], answer: 2 },
      { question: "What means liquidity for CRT token?", options: ["Withdraw only after maturity", "Locked for a fixed time", "Freely tradeable while earning yield", "Locked in governance pools"], answer: 2 },
      { question: "Which metric shows Carrot‚Äôs health?", options: ["Total Value Locked (TVL)", "Governance proposals count", "Price volatility index", "DAO members number"], answer: 0 }
    ];

    const quiz = document.getElementById("quiz");
    const submitBtn = document.getElementById("submit");
    const scoreEl = document.getElementById("score");
    const shareButtons = document.getElementById("shareButtons");
    const shareX = document.getElementById("shareX");
    const retryBtn = document.getElementById("retry");
    const resultCard = document.getElementById("resultCard");
    const downloadImgBtn = document.getElementById("downloadImg");

    let selectedAnswers = new Array(quizData.length).fill(null);

    function loadQuiz() {
      quiz.innerHTML = "";
      quizData.forEach((q, index) => {
        const questionEl = document.createElement("div");
        questionEl.classList.add("question-block");
        questionEl.innerHTML = `
          <div class="question">ü•ï ${index + 1}. ${q.question}</div>
          <ul class="options">
            ${q.options
              .map(
                (opt, i) => `
                  <li onclick="selectOption(${index}, ${i}, this)">
                    <span class="option-letter">${String.fromCharCode(65 + i)}</span> ${opt}
                  </li>`
              )
              .join("")}
          </ul>
        `;
        quiz.appendChild(questionEl);
      });
    }

    window.selectOption = (qIndex, optIndex, el) => {
      const options = el.parentNode.querySelectorAll("li");
      options.forEach((li) => li.classList.remove("correct", "wrong"));

      if (optIndex === quizData[qIndex].answer) {
        el.classList.add("correct");
      } else {
        el.classList.add("wrong");
        options[quizData[qIndex].answer].classList.add("correct");
      }

      selectedAnswers[qIndex] = optIndex;
    };

    submitBtn.addEventListener("click", () => {
      let score = 0;
      quizData.forEach((q, i) => {
        if (selectedAnswers[i] === q.answer) score++;
      });
      scoreEl.textContent = `ü•ï You scored ${score} / ${quizData.length}`;
      resultCard.style.display = "block";
      window.scrollTo({ top: 0, behavior: "smooth" });

      shareX.onclick = () => {
        const text = encodeURIComponent(
          `ü•ï I scored ${score}/10 in the DeFi Carrot Quiz! Think you can beat me? üöÄ\n\nTry it here üëâ ${window.location.href}`
        );
        window.open(`https://twitter.com/intent/tweet?text=${text}`, "_blank");
      };

      downloadImgBtn.onclick = async () => {
        const canvas = await html2canvas(resultCard);
        const img = canvas.toDataURL("image/png");
        const link = document.createElement("a");
        link.download = "carrot-quiz-score.png";
        link.href = img;
        link.click();
      };

      retryBtn.onclick = () => {
        selectedAnswers = new Array(quizData.length).fill(null);
        scoreEl.textContent = "";
        resultCard.style.display = "none";
        loadQuiz();
      };
    });

    loadQuiz();
  </script>
</body>
  </html>
